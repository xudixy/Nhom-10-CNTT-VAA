{"ast":null,"code":"var _jsxFileName = \"/Users/hoanggiakiet/Documents/EcommerceProject/front-end/admin-dashboard/src/pages/OrdersPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport OrderList from '../components/orders/OrderList';\nimport OrderForm from '../components/orders/OrderForm';\nimport { Button } from '@mui/material';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrdersPage = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [formData, setFormData] = useState({\n    shippingInfo: {},\n    items: []\n  });\n  const fetchOrders = async () => {\n    try {\n      const response = await axios.get('/api/orders'); // Adjust the API endpoint as needed\n      const formattedOrders = response.data.orders.map(order => ({\n        ...order,\n        totalAmount: order.totalAmount,\n        status: order.status,\n        paymentMethod: order.paymentMethod,\n        paymentStatus: order.paymentStatus,\n        createdAt: order.createdAt,\n        updatedAt: order.updatedAt\n      }));\n      setOrders(formattedOrders);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n  const handleEditOrder = order => {\n    setFormData({\n      _id: order._id,\n      shippingInfo: order.shippingInfo,\n      totalAmount: order.totalAmount,\n      status: order.status,\n      paymentMethod: order.paymentMethod,\n      items: order.items\n    });\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n    setFormData({\n      shippingInfo: {},\n      items: []\n    });\n  };\n  const handleSubmit = async () => {\n    try {\n      if (formData._id) {\n        await axios.put(`/api/orders/${formData._id}`, formData);\n      } else {\n        await axios.post('/api/orders', formData);\n      }\n      fetchOrders();\n      handleClose();\n    } catch (error) {\n      console.error('Error saving order:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      variant: \"contained\",\n      onClick: () => setOpen(true),\n      children: \"Th\\xEAm \\u0111\\u01A1n h\\xE0ng\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrderList, {\n      orders: orders,\n      onConfirm: handleEditOrder\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(OrderForm, {\n      open: open,\n      onClose: handleClose,\n      formData: formData,\n      setFormData: setFormData,\n      onSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdersPage, \"oSBJd4JbqYGb/Cu0lx+9AZ73cD4=\");\n_c = OrdersPage;\nexport default OrdersPage;\nvar _c;\n$RefreshReg$(_c, \"OrdersPage\");","map":{"version":3,"names":["React","useEffect","useState","OrderList","OrderForm","Button","axios","jsxDEV","_jsxDEV","OrdersPage","_s","orders","setOrders","open","setOpen","formData","setFormData","shippingInfo","items","fetchOrders","response","get","formattedOrders","data","map","order","totalAmount","status","paymentMethod","paymentStatus","createdAt","updatedAt","error","console","handleEditOrder","_id","handleClose","handleSubmit","put","post","children","variant","onClick","fileName","_jsxFileName","lineNumber","columnNumber","onConfirm","onClose","onSubmit","_c","$RefreshReg$"],"sources":["/Users/hoanggiakiet/Documents/EcommerceProject/front-end/admin-dashboard/src/pages/OrdersPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport OrderList from '../components/orders/OrderList';\nimport OrderForm from '../components/orders/OrderForm';\nimport { Button } from '@mui/material';\nimport axios from 'axios';\n\nconst OrdersPage = () => {\n  const [orders, setOrders] = useState([]);\n  const [open, setOpen] = useState(false);\n  const [formData, setFormData] = useState({ shippingInfo: {}, items: [] });\n\n  const fetchOrders = async () => {\n    try {\n      const response = await axios.get('/api/orders'); // Adjust the API endpoint as needed\n      const formattedOrders = response.data.orders.map(order => ({\n        ...order,\n        totalAmount: order.totalAmount,\n        status: order.status,\n        paymentMethod: order.paymentMethod,\n        paymentStatus: order.paymentStatus,\n        createdAt: order.createdAt,\n        updatedAt: order.updatedAt\n      }));\n      setOrders(formattedOrders);\n    } catch (error) {\n      console.error('Error fetching orders:', error);\n    }\n  };\n\n  useEffect(() => {\n    fetchOrders();\n  }, []);\n\n  const handleEditOrder = (order) => {\n    setFormData({\n      _id: order._id,\n      shippingInfo: order.shippingInfo,\n      totalAmount: order.totalAmount,\n      status: order.status,\n      paymentMethod: order.paymentMethod,\n      items: order.items\n    });\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n    setFormData({ shippingInfo: {}, items: [] });\n  };\n\n  const handleSubmit = async () => {\n    try {\n      if (formData._id) {\n        await axios.put(`/api/orders/${formData._id}`, formData);\n      } else {\n        await axios.post('/api/orders', formData);\n      }\n      fetchOrders();\n      handleClose();\n    } catch (error) {\n      console.error('Error saving order:', error);\n    }\n  };\n\n  return (\n    <div>\n      <Button variant=\"contained\" onClick={() => setOpen(true)}>Thêm đơn hàng</Button>\n      <OrderList orders={orders} onConfirm={handleEditOrder} />\n      <OrderForm open={open} onClose={handleClose} formData={formData} setFormData={setFormData} onSubmit={handleSubmit} />\n    </div>\n  );\n};\n\nexport default OrdersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}